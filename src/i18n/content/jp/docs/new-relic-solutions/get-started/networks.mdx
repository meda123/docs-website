---
title: New Relicネットワークトラフィック
tags:
  - Using New Relic
  - Cross-product functions
  - Install and configure
metaDescription: 'Network connections used by New Relic for sending and receiving data: IP addresses, domains, ports, endpoints.'
translationType: human
---

**このリストは最新です。2023年5月1日に、ネットワーク、IP、ドメイン、ポート、エンドポイントの最終更新を行いました。**

これは、New Relicと通信するためにAPIクライアントまたはエージェントが使用するネットワーク、IPアドレス、ドメイン、ポート、およびエンドポイントのリストです。[TLSがすべてのドメインについて必要です。](#tls)

<Callout variant="tip">
  このドキュメントでは、インテグレーションがNew Relicドメインにアクセスできるようにするための情報を提供します。ネットワークのパフォーマンスを監視するには、[ネットワークパフォーマンスのモニタリングを開始する](/docs/network-performance-monitoring/get-started/npm-introduction)を参照してください。
</Callout>

## TLS暗号化 [#tls]

顧客のデータセキュリティを保証し、[FedRAMP](https://marketplace.fedramp.gov/#/product/new-relic?sort=productName&productNameSearch=new%20relic)および[データ暗号化](/docs/security/new-relic-security/compliance/data-encryption)のその他の基準に従うには、すべてのドメインのすべてのインバウンド接続にはトランスポートレイヤーセキュリティ（TLS）1.2以降が必要です。詳細については、[TLS 1.2に関するサポートフォーラムの投稿](https://forum.newrelic.com/s/hubtopic/aAX8W0000008dM6WAI/tls-1011-has-been-disabled-for-all-inbound-connections-on-feb-2nd-2023)をご覧ください。

必須のサポートされたプロトコルバージョンへの将来のアップデートについては、[New Relicのサポートフォーラムの`Security Notifications`タグ](https://discuss.newrelic.com/t/security-notifications/45862)に従ってください。

## ユーザー向けドメイン [#user-facing-domains]

New Relicが適切に機能するには、ブラウザが多数のドメインと通信できる必要があります。許可リストを更新して、New Relicが多数の統合ドメイン（このセクションにリスト）と通信できることを確認します。ドメインをブロックすると、個々の製品機能にイシューが生じたり、ページがまったくロードされないことがあります。

このリストには、製品の使用に影響を与えずにブロックできる、New Relicが接続するドメインは含まれていません。また、Nerdpackや、追加のドメイン要件を持つ外部サービスと通信するその他の機能も含まれていません。

送信トラフィックを制限するファイアウォールを使用している組織の場合は、使用するオペレーティングシステムとファイアウォールに関する特定の手順に従って、次のドメインを許可リストに追加してください。

<table>
  <thead>
    <tr>
      <th style={{ width: "290px" }}>
        ドメイン：
      </th>

      <th>
        説明
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `\*.newrelic.com`
      </td>

      <td>
        New Relicとサポートサービス
      </td>
    </tr>

    <tr>
      <td>
        `\*.nr-assets.net`
      </td>

      <td>
        New Relic静的アセット
      </td>
    </tr>

    <tr>
      <td>
        `\*.nr-ext.net`
      </td>

      <td>
        New Relic Nerdpackとアセット
      </td>
    </tr>

    <tr>
      <td>
        `\*.amazonaws.com`
      </td>

      <td>
        AWS S3の背後にあるNew Relicカタログアセット
      </td>
    </tr>

    <tr>
      <td>
        `\*.cloudfront.net`
      </td>

      <td>
        AWS CloudFront CDNの背後にあるNew Relic静的アセット
      </td>
    </tr>

    <tr>
      <td>
        `secure.gravatar.com`
      </td>

      <td>
        Gravatarアバターのサポート
      </td>
    </tr>

    <tr>
      <td>
        `fonts.googleapis.com`
      </td>

      <td>
        Google Fontsのサポート
      </td>
    </tr>

    <tr>
      <td>
        `fonts.gstatic.com`
      </td>

      <td>
        Google Fontsのサポート
      </td>
    </tr>

    <tr>
      <td>
        `[www.google.com](http://www.google.com)`
      </td>

      <td>
        reCAPTCHAのサポート
      </td>
    </tr>

    <tr>
      <td>
        `[www.gstatic.com](http://www.gstatic.com)`
      </td>

      <td>
        reCAPTCHAのサポート
      </td>
    </tr>

    <tr>
      <td>
        `\*.nr-data.net`
      </td>

      <td>
        OpenTelemetryおよびPixie
      </td>
    </tr>

    <tr>
      <td>
        `onenr.io`
      </td>

      <td>
        New Relicの共有パーマリンク
      </td>
    </tr>

    <tr>
      <td>
        `\*.typescript.azureedge.net`
      </td>

      <td>
        Syntheticsコードエディターの自動補完機能
      </td>
    </tr>
  </tbody>
</table>

## データ取り込みエンドポイント [#data-ingest]

この表には、New Relicアカウントに取り込まれたデータのエンドポイントが含まれています。特定のエージェントとインテグレーションの詳細については、以下の取り込み表をご確認ください。

### 米国データセンターの取り込みエンドポイント [#us-ingest]

[EUデータセンターリージョンのエンドポイント](#eu-endpoints)を使用している場合を除き、これらはデフォルトの取り込みエンドポイントです。ポートの詳細については、[ポート](#ports)を参照してください。

<table>
  <thead>
    <tr>
      <th style={{ width: "310px" }}>
        エンドポイント
      </th>

      <th>
        目的とメモ
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `aws-api.newrelic.com`
      </td>

      <td>
        [AWSメトリクスストリームの取り込み](/docs/infrastructure/amazon-integrations/connect/aws-metric-stream/)。
      </td>
    </tr>

    <tr>
      <td>
        `bam.nr-data.net`
      </td>

      <td>
        [ブラウザの取り込み](/docs/browser/browser-monitoring/getting-started/introduction-browser-monitoring)。推奨ブラウザエンドポイント。
      </td>
    </tr>

    <tr>
      <td>
        `bam-cell.nr-data.net`
      </td>

      <td>
        [ブラウザの取り込み](/docs/browser/browser-monitoring/getting-started/introduction-browser-monitoring)。必要に応じて、ブラウザモニタリングにコピー/ペースト方法を使用する、古い米国リージョンのアカウントで利用可能です。
      </td>
    </tr>

    <tr>
      <td>
        `cloud-collector.newrelic.com`
      </td>

      <td>
        [AWS VPCフローログ](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-vpc-monitoring-integration)および[RDS Enhanced](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-rds-enhanced-monitoring-integration)の取り込み。
      </td>
    </tr>

    <tr>
      <td>
        `collector*.newrelic.com`
      </td>

      <td>
        APMエージェントの取り込み。
      </td>
    </tr>

    <tr>
      <td>
        `infra-api.newrelic.com`
      </td>

      <td>
        [インフラストラクチャエージェントの取り込み](/docs/infrastructure/infrastructure-monitoring/get-started/get-started-infrastructure-monitoring)。
      </td>
    </tr>

    <tr>
      <td>
        `insights-collector.newrelic.com`
      </td>

      <td>
        [イベントAPIの取り込み](/docs/data-apis/ingest-apis/event-api/introduction-event-api)。
      </td>
    </tr>

    <tr>
      <td>
        `log-api.newrelic.com`
      </td>

      <td>
        さまざまなエージェントやインテグレーションによって使用される[ログAPI](/docs/logs/log-api/introduction-log-api)。
      </td>
    </tr>

    <tr>
      <td>
        `metric-api.newrelic.com`
      </td>

      <td>
        さまざまなエージェントやインテグレーションによって使用される、次元メトリクスの[メトリクスAPI](/docs/data-apis/ingest-apis/metric-api/introduction-metric-api)。
      </td>
    </tr>

    <tr>
      <td>
        `mobile-collector.newrelic.com`
      </td>

      <td>
        [モバイルエージェントの取り込み](/docs/mobile-monitoring/new-relic-mobile/get-started/introduction-mobile-monitoring)。
      </td>
    </tr>

    <tr>
      <td>
        `mobile-crash.newrelic.com`
      </td>

      <td>
        [モバイルエージェントのクラッシュレポートの取り込み](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/investigate-mobile-app-crash-report)。
      </td>
    </tr>

    <tr>
      <td>
        `otlp.nr-data.net`
      </td>

      <td>
        [OpenTelemetryの取り込み](/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/opentelemetry-introduction)。[クイックスタートガイド](/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/get-started/opentelemetry-get-started-intro)を使用して、`api-key`ヘッダーのアカウントライセンスキーを使用して設定します。
      </td>
    </tr>

    <tr>
      <td>
        `trace-api.newrelic.com`
      </td>

      <td>
        [トレースAPIインジェスト](/docs/distributed-tracing/trace-api/introduction-trace-api)。
      </td>
    </tr>
  </tbody>
</table>

### EUデータセンターの取り込みエンドポイント [#eu-ingest]

[EUデータセンターリージョン](/docs/accounts/accounts-billing/account-setup/choose-your-data-center)のデータ取り込みエンドポイントを以下に示します。ポートの詳細については、[ポート](#ports)を参照してください。

<table>
  <thead>
    <tr>
      <th style={{ width: "310px" }}>
        エンドポイント
      </th>

      <th>
        目的とメモ
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `aws-api.eu.newrelic.com`
      </td>

      <td>
        [AWSメトリクスストリームの取り込み](/docs/infrastructure/amazon-integrations/connect/aws-metric-stream/)。
      </td>
    </tr>

    <tr>
      <td>
        `aws-api.eu01.nr-data.net`
      </td>

      <td>
        [クラウドインテグレーションの取り込み](/docs/infrastructure/infrastructure-integrations/get-started/introduction-infrastructure-integrations/#cloud)。
      </td>
    </tr>

    <tr>
      <td>
        `bam.eu01.nr-data.net`
      </td>

      <td>
        [ブラウザの取り込み](/docs/browser/browser-monitoring/getting-started/introduction-browser-monitoring)（ブラウザに推奨）。
      </td>
    </tr>

    <tr>
      <td>
        `cloud-collector.eu01.newrelic.com`
      </td>

      <td>
        [AWS VPCフローログ](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-vpc-monitoring-integration)および[RDS Enhanced](/docs/infrastructure/amazon-integrations/aws-integrations-list/aws-rds-enhanced-monitoring-integration)の取り込み。
      </td>
    </tr>

    <tr>
      <td>
        `collector*.eu.newrelic.com`
      </td>

      <td>
        APMエージェントの取り込み。
      </td>
    </tr>

    <tr>
      <td>
        `collector*.eu01.nr-data.net`
      </td>

      <td>
        APMエージェントの取り込み。
      </td>
    </tr>

    <tr>
      <td>
        `eu01.nr-data.net`
      </td>

      <td>
        [ブラウザの取り込み](/docs/browser/browser-monitoring/getting-started/introduction-browser-monitoring)。
      </td>
    </tr>

    <tr>
      <td>
        `infra-api.eu.newrelic.com`
      </td>

      <td>
        [インフラストラクチャエージェントの取り込み](/docs/infrastructure/infrastructure-monitoring/get-started/get-started-infrastructure-monitoring)。
      </td>
    </tr>

    <tr>
      <td>
        `infra-api.eu01.nr-data.net`
      </td>

      <td>
        [インフラストラクチャエージェントの取り込み](/docs/infrastructure/infrastructure-monitoring/get-started/get-started-infrastructure-monitoring)。
      </td>
    </tr>

    <tr>
      <td>
        `insights-collector.eu01.nr-data.net`
      </td>

      <td>
        [イベントAPIの取り込み](/docs/data-apis/ingest-apis/event-api/introduction-event-api)。
      </td>
    </tr>

    <tr>
      <td>
        `log-api.eu.newrelic.com`
      </td>

      <td>
        さまざまなエージェントやインテグレーションによって使用される[ログAPI](/docs/logs/log-api/introduction-log-api)。
      </td>
    </tr>

    <tr>
      <td>
        `metric-api.eu.newrelic.com`
      </td>

      <td>
        さまざまなエージェントやインテグレーションによって使用される、次元メトリクスの[メトリクスAPI](/docs/data-apis/ingest-apis/metric-api/introduction-metric-api)。
      </td>
    </tr>

    <tr>
      <td>
        `mobile-collector.eu01.nr-data.net`
      </td>

      <td>
        [モバイルエージェントの取り込み](/docs/mobile-monitoring/new-relic-mobile/get-started/introduction-mobile-monitoring)。
      </td>
    </tr>

    <tr>
      <td>
        `mobile-crash.eu01.nr-data.net`
      </td>

      <td>
        [モバイルエージェントのクラッシュレポートの取り込み](/docs/mobile-monitoring/mobile-monitoring-ui/crashes/investigate-mobile-app-crash-report)。
      </td>
    </tr>

    <tr>
      <td>
        `otlp.eu01.nr-data.net`
      </td>

      <td>
        [OpenTelemetryの取り込み](/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/opentelemetry-introduction)。[クイックスタートガイド](/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/get-started/opentelemetry-get-started-intro)を使用して、`api-key`ヘッダーのアカウントライセンスキーを使用して設定します。
      </td>
    </tr>

    <tr>
      <td>
        `trace-api.eu.newrelic.com`
      </td>

      <td>
        [トレースAPIインジェスト](/docs/distributed-tracing/trace-api/introduction-trace-api)。
      </td>
    </tr>
  </tbody>
</table>

### FedRAMPの取り込みエンドポイント [#fedramp]

[FedRAMPエンドポイント](/docs/security/security-privacy/compliance/fedramp-compliant-endpoints)を参照してください。

### ポートの詳細 [#ports]

[OpenTelemetryを除く](#otel-ports)すべてのデータ取り込みアプリケーションでは、暗号化されたHTTPSトラフィック向けの安全なチャネルとデフォルトのポート443を使用します。

ポート80を使用する既存の設定がある場合は、443を使用するように更新することをお勧めします。

#### OpenTelemetryポート [#otel-ports]

`otlp.nr-data.net`および`otlp.eu01.nr-data.net`に使用されるポートは以下になります。

* 443
* 4317（HTTP/2）
* 4318（HTTP/1.1）

### データ取り込みIPブロック [#ingest-blocks]

New Relicは、データの取り込みに以下のブロックを使用します。

* 米国データセンターのエンドポイント： `162.247.240.0/22`
* EUデータセンターのエンドポイント： `185.221.84.0/22`

## エージェントのダウンロード [#agent-download]

[TLSがすべてのドメインについて必要です。](#tls)`download.newrelic.com`のサービスはFastlyを通じて提供されており、予告なく変更される場合があります。New Relicエージェントのダウンロード用公開IPアドレスの最新リストについては、[api.fastly.com/public-ip-list](https://api.fastly.com/public-ip-list)をご覧ください。

## インフラストラクチャの詳細 [#infrastructure]

New Relicにデータをレポートするためには、[Infrastructureモニタリング](/docs/infrastructure/new-relic-infrastructure/getting-started/welcome-new-relic-infrastructure)は[エンドポイントテーブル](#data-ingest)内のエンドポイントへのアウトバウンドアクセスが必要です。[TLS](#tls)がすべてのドメインについて必要です。

お使いのシステムが、New Relicへの接続のためにプロキシを必要とする場合は、[Infrastructureの`proxy`設定](/docs/infrastructure/new-relic-infrastructure/configuration/configure-infrastructure-agent#proxy)を使用してください。

当社のインフラストラクチャモニタリングでは、メトリクスAPIエンドポイントやログAPIエンドポイント（[エンドポイントテーブル](#data-ingest)に含まれる）など、他のいくつかの取り込みエンドポイントを利用しています。また、以下の取り込み関連以外のエンドポイントも使用します。

* `identity-api.newrelic.com`：エンティティ登録に必要です（`host`エンティティなど）。EUエンドポイント：`identity-api.eu.newrelic.com`。
* `infrastructure-command-api.newrelic.com`：エージェント動作（機能フラグの使用など）の側面を制御するためにエージェントが使用します。EUエンドポイント：`infrastructure-command-api.eu.newrelic.com`。

## APMエージェントの詳細 [#apm]

ネットワークパフォーマンスや[データセキュリティ](/docs/security/new-relic-security/data-privacy/new-relic-security-protecting-your-data-content)を向上させるため、New Relicは広いIP範囲でCDNとDDoS保護サービスを使用しています。New Relicエージェントでは、[取り込みエンドポイントテーブル](#data-ingest)のAPM関連エンドポイントへの発信接続を許可するように、ファイアウォールを設定する必要があります。これらを許可リストに追加するには、使用するオペレーティングシステムとファイアウォールに関する特定の手順に従ってください。

[TLSがすべてのドメインについて必要です。](#tls)

## ブラウザモニタリングの詳細 [#browser]

[BrowserエージェントおよびAPMエージェントが使用するエンドポイント](#data-ingest)に加えて、Browserエージェントが監視するアプリケーションでは、`js-agent.newrelic.com`への発信接続を使用します。

`js-agent.newrelic.com`ファイルの`bam.nr-data.net`ドメイン、またはNew Relicビーコンのいずれかに対するCDNアクセスに関する詳細については、[ブラウザモニタリングのためのセキュリティ](/docs/browser/new-relic-browser/performance-quality/security-new-relic-browser)を参照してください。

[TLSがすべてのドメインについて必要です。](#tls)

## モバイル監視の詳細 [#mobile-specific]

[取り込みエンドポイント](#data-ingest)に加えて、当社の[モバイルエージェント](/docs/mobile-monitoring)によって監視されるアプリは、`mobile-symbol-upload.newrelic.com`（EUエンドポイント：`mobile-symbol-upload.eu01.nr-data.net`）への発信接続を使用します。

[TLSがすべてのドメインについて必要です。](#tls)

## セキュリティデータのエンドポイント [#security]

[セキュリティデータAPI](/docs/data-apis/ingest-apis/security-data-api)を参照してください。

## 合成モニター [#synthetics]

### パブリックロケーション [#synthetics-public]

合成モニターがモニター対象のURLにアクセスできるようにお使いのファイアウォールを設定するには、[SyntheticsパブリックミニオンIP](/docs/synthetics/new-relic-synthetics/using-monitors/synthetics-public-minion-ips)を使用します。[TLSがすべてのドメインについて必要です。](#tls)

### プライベートロケーション [#synthetics-private]

<Callout variant="important">
  [2023年8月22日、Syntheticsのプライベートロケーションで使用されるIPアドレスが変更されます。](/whats-new/2023/06/whats-new-06-23-synthetics-horde-ip-changes/)
</Callout>

合成プライベートミニオンは地域に基づき特定のエンドポイントに報告します。プライベートミニオンがエンドポイントまたはエンドポイントに関連付けられた静的IPアドレスにアクセスできるようにするには、使用するオペレーティングシステムとファイアウォールに関する特定の手順に従ってください。これらのIPアドレスは将来変更できます。

[TLS](#tls)がすべてのドメインについて必要です。米国または[EUリージョン](/docs/using-new-relic/welcome-new-relic/get-started/introduction-eu-region-data-center)では、適宜アカウントデータのIP接続を使用します。

<table>
  <thead>
    <tr>
      <th style={{ width: "150px" }}>
        IP接続
      </th>

      <th>
        Syntheticsプライベートロケーションデータ
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        エンドポイント
      </td>

      <td>
        米国地域のアカウントの場合：

        * `https://synthetics-horde.nr-data.net/`

          EU地域のアカウント：

        * `https://synthetics-horde.eu01.nr-data.net/`
      </td>
    </tr>

    <tr>
      <td>
        IPアドレス
      </td>

      <td>
        米国データセンターリージョンのアカウントの場合：

        * `13.248.153.51`

        * `76.223.21.185`

          EUデータセンターリージョンのアカウントの場合：

        * `185.221.86.57`

        * `185.221.86.25`
      </td>
    </tr>
  </tbody>
</table>

## アラートWebhook、api.newrelic.com、クラウドインテグレーションとチケットインテグレーション [#webhooks]

`api.newrelic.com`（[NerdGraph API](/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph)など）とNew Relicで生成された[アラートポリシー用のwebhook](/docs/alerts/new-relic-alerts/managing-notification-channels/notification-channels-controlling-where-send-alerts#webhook)を使用するエンドポイントは、米国または[EUリージョン](/docs/using-new-relic/welcome-new-relic/get-started/introduction-eu-region-data-center)の指定されたネットワークブロックのIPアドレスを使用します。これらのブロック内のすべてのアドレスには[TLSが必要です](#tls)。

米国地域アカウントのネットワークブロック：

* `162.247.240.0/22`
* `18.246.82.0/25` （2023年7月1日から有効）
* `3.145.244.128/25` （2023年7月1日から有効）

EU地域アカウントのネットワークブロック：

* `158.177.65.64/29`
* `159.122.103.184/29`
* `161.156.125.32/28`
* `3.77.79.0/25` （2023年7月1日から有効）

これらのネットワークブロックは、サードパーティのチケットのインテグレーションおよび[New Relicクラウドインテグレーション](/docs/integrations/infrastructure-integrations/get-started/introduction-infrastructure-integrations/#cloud-integrations)にも適用されます。ただし、[Azureモニターインテグレーション](/docs/infrastructure/microsoft-azure-integrations/azure-integrations-list/azure-monitor/)には適用されません。

## Pixieインテグレーション [#pixie-integration]

[Pixieインテグレーション](https://github.com/newrelic/newrelic-pixie-integration)は、Kubernetesクラスタで実行され、一連の厳選されたオブザーバビリティデータをPixieから引き出し、OpenTelemetryプロトコル（OTLP）を使用してNew Relicに送信します。

Pixieインテグレーションには、以下へのアウトバウンドネットワークアクセスが必要です。

* `work.withpixie.ai:443`
* `withpixie.ai:443`
* `otlp.nr-data.net:4317` （米国データセンターのアカウント）
* `otlp.eu01.nr-data.net:4317` （EUデータセンターのアカウント）

<Callout variant="tip">
  `4317`ポートが機能しない場合は、ポート`443`を使用できます。
</Callout>

Pixieコミュニティプロジェクトでは、[Google Container Registry](https://cloud.google.com/container-registry)でホストされているコンテナイメージを使用します。クラスタが`gcr.io`から画像をプルできることを確認します。

## CodeStream [#codestream]

New Relic [CodeStream](/docs/codestream/start-here/what-is-codestream)は、開発チームが自然かつ状況に応じた方法でコードについて議論し、レビューできるようにする開発者向けコラボレーションプラットフォームです。

次のドメインを使用します。

* `api.codestream.com`
* `*.pubnub.com`
* `*.pubnub.net`
* `*.pndsn.com`
* `*.pubnub.io`